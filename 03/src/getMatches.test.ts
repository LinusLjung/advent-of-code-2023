import { describe, expect, it } from 'bun:test';
import getMatches, { Match } from 'getMatches';

describe('getMatches()', () => {
  it.each<[string, Match[]]>([
    [
      '467..114..',
      [
        ['467', 0],
        ['114', 5],
      ],
    ],
    ['...*......', []],
    [
      '..35..633.',
      [
        ['35', 2],
        ['633', 6],
      ],
    ],
    ['......#...', []],
    ['617*......', [['617', 0]]],
    ['.....+.58.', [['58', 7]]],
    ['..592.....', [['592', 2]]],
    ['......755.', [['755', 6]]],
    ['...$.*....', []],
    [
      '.664.598..',
      [
        ['664', 1],
        ['598', 5],
      ],
    ],
    [
      '.10#10.123',
      [
        ['10', 1],
        ['10', 4],
        ['123', 7],
      ],
    ],
    [
      '........*.....*.....605..990....765.....&..120...159.....691.........1.....67*84.92..........687.580.....56.408..677.........$.........624..',
      [
        ['605', 20],
        ['990', 25],
        ['765', 32],
        ['120', 43],
        ['159', 49],
        ['691', 57],
        ['1', 69],
        ['67', 75],
        ['84', 78],
        ['92', 81],
        ['687', 93],
        ['580', 97],
        ['56', 105],
        ['408', 108],
        ['677', 113],
        ['624', 135],
      ],
    ],
  ])('should return matches with indices, line %s', (input, expected) => {
    expect(getMatches(input)).toEqual(expected);
  });
});
